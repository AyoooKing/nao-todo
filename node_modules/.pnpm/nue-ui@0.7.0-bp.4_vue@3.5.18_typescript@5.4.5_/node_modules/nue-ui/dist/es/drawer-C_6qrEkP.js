import { w as e } from "./utils-D3GAsA1N.js";
import { defineComponent as t, mergeModels as s, useModel as l, ref as o, watchEffect as i, nextTick as a, openBlock as n, createBlock as f, Transition as r, withCtx as p, createElementBlock as d, withModifiers as u, createElementVNode as c, createVNode as y, unref as h, renderSlot as m, createTextVNode as x, toDisplayString as w, createCommentVNode as g } from "vue";
import { N as v, a as _, b, c as $ } from "./container-CYKikxGw.js";
import { _ as k } from "./button-y8Aj-aBT.js";
import { _ as W } from "./text-TjewgIQ-.js";
let H = 64;
const C = /* @__PURE__ */ new Set(), B = e(t({ name: "NueDrawer", __name: "drawer", props: s({ title: {}, span: { default: "36%" }, minSpan: { default: "240px" }, beforeClose: {}, closeByButtonOnly: { type: Boolean, default: false }, openFrom: { default: "right" } }, { visible: {}, visibleModifiers: {} }), emits: ["update:visible"], setup(e2) {
  const t2 = l(e2, "visible"), s2 = e2, B2 = o(), j = o(), { setOpened: O, setClosed: S } = { setOpened: function(e3) {
    H++, e3.style.zIndex = H.toString(), C.add(e3);
  }, setClosed: function(e3) {
    C.delete(e3), 0 === C.size && (H = 64);
  } };
  async function N() {
    const { beforeClose: e3 } = s2;
    t2.value && (e3 && await new Promise((t3) => {
      e3(() => t3(true));
    }), t2.value = false);
  }
  function z() {
    s2.closeByButtonOnly || N();
  }
  function F() {
    const { span: e3, minSpan: l2, openFrom: o2 } = s2, i2 = t2.value, a2 = j.value;
    if (a2) switch (o2) {
      case "top":
        !function(e4, t3, s3, l3) {
          e4 ? (t3.style.width = "100%", t3.style.height = s3, t3.style.minHeight = l3, t3.style.top = `-${t3.offsetHeight}px`, t3.style.left = "0px", t3.offsetHeight, t3.style.top = "0px") : t3.style.top = `-${t3.offsetHeight}px`;
        }(i2, a2, e3, l2);
        break;
      case "right":
        !function(e4, t3, s3, l3) {
          e4 ? (t3.style.height = "100%", t3.style.width = s3, t3.style.minWidth = l3, t3.style.right = `-${t3.clientWidth}px`, t3.style.top = "0px", t3.clientWidth, t3.style.right = "0px") : t3.style.right = `-${t3.offsetWidth}px`;
        }(i2, a2, e3, l2);
        break;
      case "left":
        !function(e4, t3, s3, l3) {
          e4 ? (t3.style.height = "100%", t3.style.width = s3, t3.style.minWidth = l3, t3.style.left = `-${t3.offsetWidth}px`, t3.style.top = "0px", t3.offsetWidth, t3.style.left = "0px") : t3.style.left = `-${t3.offsetWidth}px`;
        }(i2, a2, e3, l2);
        break;
      case "bottom":
        !function(e4, t3, s3, l3) {
          e4 ? (t3.style.width = "100%", t3.style.height = s3, t3.style.minHeight = l3, t3.style.bottom = `-${t3.offsetHeight}px`, t3.style.left = "0px", t3.offsetHeight, t3.style.bottom = "0px") : t3.style.bottom = `-${t3.offsetHeight}px`;
        }(i2, a2, e3, l2);
    }
  }
  return i(() => {
    B2.value && (t2.value ? a(() => {
      O(B2.value), F();
    }) : (S(B2.value), F()));
  }), (e3, s3) => (n(), f(r, { name: "nue-drawer-fade" }, { default: p(() => [t2.value ? (n(), d("div", { key: 0, ref_key: "drawerWrapperRef", ref: B2, class: "nue-drawer-wrapper", onClick: u(z, ["stop"]) }, [c("div", { ref_key: "drawerRef", ref: j, class: "nue-drawer", onClick: s3[0] || (s3[0] = u(() => {
  }, ["stop"])) }, [y(h(v), { class: "vertical,inner" }, { default: p(() => [y(h(_), { class: "nue-drawer__header" }, { default: p(() => [m(e3.$slots, "header", { close: N }, () => [y(W, { class: "nue-drawer__title", flex: "" }, { default: p(() => [x(w(e3.title), 1)]), _: 1 }), y(k, { icon: "clear", theme: "pure", onClick: u(N, ["stop"]) })])]), _: 3 }), y(h(b), null, { content: p(() => [m(e3.$slots, "default")]), _: 3 }), e3.$slots.footer ? (n(), f(h($), { key: 0 }, { default: p(() => [m(e3.$slots, "footer")]), _: 3 })) : g("", true)]), _: 3 })], 512)], 512)) : g("", true)]), _: 3 }));
} }));
export {
  B as N
};
