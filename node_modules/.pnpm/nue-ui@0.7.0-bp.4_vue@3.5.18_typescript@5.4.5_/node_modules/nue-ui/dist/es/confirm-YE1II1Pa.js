import { defineComponent as e, ref as t, computed as n, openBlock as o, createElementBlock as r, normalizeClass as a, createElementVNode as i, createVNode as l, withCtx as s, createTextVNode as c, toDisplayString as u, withModifiers as m, render as f } from "vue";
import { _ as d } from "./button-y8Aj-aBT.js";
import { _ as p } from "./text-TjewgIQ-.js";
import { p as _ } from "./utils-D3GAsA1N.js";
import { u as v } from "./popup-wrapper-DVF5gLbi.js";
const C = { class: "nue-confirm__header" }, h = { class: "nue-confirm__content" }, b = { class: "nue-confirm__footer" }, w = e({ name: "NueConfirmNodeInner", __name: "confirm", props: { title: { default: "Confirm" }, content: {}, confirmButtonText: { default: "Yes" }, cancelButtonText: { default: "No" }, loading: { type: Boolean }, onConfirm: {}, close: {}, theme: {} }, setup(e2) {
  const f2 = e2, v2 = t(false), w2 = n(() => {
    const { theme: e3 } = f2, t2 = "nue-confirm";
    let n2 = [t2];
    return e3 && (n2 = n2.concat(_(e3, t2))), n2;
  }), x2 = async (e3) => {
    const { onConfirm: t2, close: n2 } = f2;
    if (!e3) return n2(false);
    if (!t2) return n2(true);
    try {
      v2.value = true, n2(await t2());
    } catch (e4) {
      n2(e4 instanceof Error ? e4 : new Error(e4));
    } finally {
      v2.value = false;
    }
  };
  return (e3, t2) => (o(), r("div", { ref: "confirmRef", class: a(w2.value) }, [i("div", C, [l(p, null, { default: s(() => [c(u(e3.title), 1)]), _: 1 }), l(d, { disabled: v2.value, icon: "clear", theme: "pure", onClick: t2[0] || (t2[0] = m((e4) => x2(false), ["stop"])) }, null, 8, ["disabled"])]), i("div", h, [l(p, null, { default: s(() => [c(u(e3.content), 1)]), _: 1 })]), i("div", b, [l(d, { disabled: v2.value, onClick: t2[1] || (t2[1] = m((e4) => x2(false), ["stop"])) }, { default: s(() => [c(u(e3.cancelButtonText), 1)]), _: 1 }, 8, ["disabled"]), l(d, { loading: v2.value, theme: "primary", onClick: t2[2] || (t2[2] = m((e4) => x2(true), ["stop"])) }, { default: s(() => [c(u(e3.confirmButtonText), 1)]), _: 1 }, 8, ["loading"])])], 2));
} }), x = function(e2) {
  const t2 = v(e2.wrapperId);
  return new Promise((n2, o2) => {
    const r2 = document.createElement("div");
    r2.classList.add("nue-confirm-wrapper"), t2.appendChild(r2), f(l(w, { ...e2, close: async (e3) => {
      e3 instanceof Error || !e3 ? o2(e3) : n2(e3), r2.dataset.closing = "true", setTimeout(() => {
        t2.removeChild(r2);
      }, 240);
    } }), r2);
  });
};
export {
  x as N
};
